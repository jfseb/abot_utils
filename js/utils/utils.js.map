{"version":3,"sources":["/projects/nodejs/botbuilder/abot_utils//projects/nodejs/botbuilder/abot_utils/src/../src/utils/utils.ts"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["'use strict';\nexport function deepFreeze(o : any) {\n  if (typeof o === \"object\") {\n    Object.keys(o).forEach(function(sKey) {\n      deepFreeze(o[sKey]);\n    });\n    Object.freeze(o);\n  }\n}\n\n\nexport function listToQuotedCommaWord(list : string[], quote : string, word: string) {\n    quote = quote || \"\";\n    if( list.length === 0) {\n        return quote + quote;\n    }\n    var base = list.slice(0,list.length-1).join(quote + \", \" + quote);\n    if(base) {\n        base = quote + base + quote + ' ' + word + ' ' + quote + list[list.length-1] + quote;\n        return base;\n    }\n    return quote + list[0] + quote;\n}\n\nexport function listToCommaAnd(list : string[], quote? : string) {\n    return listToQuotedCommaWord(list,quote, 'and');\n}\nexport function listToCommaOr(list : string[], quote? : string) {\n    return  listToQuotedCommaWord(list,'', 'or');\n}\n\nexport function listToQuotedCommaAnd(list : string[]) {\n    return listToQuotedCommaWord(list,'\"','and');\n}\nexport function listToQuotedCommaOr(list : string[]) {\n    return  listToQuotedCommaWord(list, '\"', 'or');\n}\n\nexport function stripQuotes(str : string) : string {\n    if(str.length > 2 && str.charAt(0) === '\"' && str.charAt(str.length - 1) === '\"') {\n        return str.substring(1,str.length-1);\n    }\n    return str;\n}\n\n// courtesy of\n// http://stackoverflow.com/questions/4459928/how-to-deep-clone-in-javascript\nexport function cloneDeep(item : any) : any  {\n    if (!item) {\n        return item;\n    } // null, undefined values check\n    var types = [Number, String, Boolean],\n        result;\n    // normalizing primitives if someone did new String('aaa'), or new Number('444');\n    types.forEach(function (type) {\n        if (item instanceof type) {\n            result = type(item);\n        }\n    });\n    if (typeof result == \"undefined\") {\n        if (Object.prototype.toString.call(item) === \"[object Array]\") {\n            result = [];\n            item.forEach(function (child, index, array) {\n                result[index] = cloneDeep(child);\n            });\n        } else if ((typeof item === 'undefined' ? 'undefined' : typeof item) == \"object\") {\n            // testing that this is DOM\n            if (!item.prototype) {\n                if (item instanceof Date) {\n                    result = new Date(item);\n                } else {\n                    // it is an object literal\n                    result = {};\n                    for (var i in item) {\n                        result[i] = cloneDeep(item[i]);\n                    }\n               }\n            } else {\n                // depending what you would like here,\n                //   // just keep the reference, or create new object\n                //   if (false && item.constructor) {\n                // would not advice to do that, reason? Read below\n                //        result = new item.constructor();\n                //    } else {\n                result = item;\n            }\n        } else {\n            result = item;\n        }\n    }\n    return result;\n}\n\ntype fna = (a : number,b : number) => number;\n\ntype fnComp<T> = (a : T,b : T) => boolean;\n\n\nexport const ArrayUtils = {\n\n  indexOf : function<T>(oMember : T, aArr : Array<T>, fnComp : fnComp<T> ) : number {\n    fnComp = fnComp || function (a:T, b:T) { return a === b };\n    var resIndex = -1;\n    aArr.every(function (oMemberArr, index) {\n      var u = fnComp(oMemberArr,oMember);\n      if(u) {\n        resIndex = index;\n        return false;\n      }\n      return true;\n    });\n    return resIndex;\n  },\n\n  presentIn : function<T>(oMember : T, aArr : Array<T>, fnComp? : fnComp<T> ) : boolean {\n    return ArrayUtils.indexOf(oMember, aArr, fnComp) >= 0;\n  },\n\n\n  setMinus : function<T>(aRR1 : Array<T>, aRR2 : Array<T>, fnComp? : fnComp<T>)  {\n    fnComp = fnComp || function (a:T, b:T) { return a === b };\n    return  aRR1.reduce(function(Result, oMember, index) {\n      if (!ArrayUtils.presentIn(oMember, aRR2, fnComp) && !ArrayUtils.presentIn(oMember, Result, fnComp)) {\n        Result.push(oMember);\n      }\n      return Result;\n    },[] as Array<T>);\n  }\n}\n"],"sourceRoot":"ABC"}